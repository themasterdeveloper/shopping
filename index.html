<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- The above 3 meta tags *must* come first in the head;any other head content must come *after* these tags -->
    <meta name="description" content="iyabasira - a new way to shop for Naija">
    <meta name="author" content="www.escng.com">
    <link rel="icon" href="/img/favicon.ico">
    <title>iyabasira - delivery services</title>
    <!-- Bootstrap core CSS -->
    <link href="/libs/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <!-- Full screen for Safari under iOS --> 
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- Custom styles for this template -->
    <link href="/css/global.min.css" rel="stylesheet">
    <style>
        .alert,
        .order-form,
        .error_message,
        .table-responsive {
            display: none;
        }
    </style>
</head>

<body>

    <!-- Loading spin image -->
    <i class="fa fa-refresh fa-5x fa-spin"></i>
    <div class="shadow"></div>
    <div class="container">
        <div class="row">
            <div class="main">
                <div class="pull-right dashboard">
                    <button class="btn btn-primary hidden" type="button">Offers <span class="badge offers"></span>
                        </button>
                    <button class="btn btn-danger hidden" id="basket_button" type="button">Basket <span class="badge basket"></span>
                        </button>
                </div>
                <h3 class="app-title">iyabasira <span class="grey">delivery</span></h3>
                <!-- Search box -->
                <div class="search-box">
                    <input class="form-control" id="search_text" name="search_text" type="text" placeholder="Enter your search">
                </div>
                <!-- The table area -->
                <div class="alert alert-info alert-dismissible" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                    <span id="msg"></span>
                </div>
                <div class="table-responsive" id="dashboard-table">
                    <!-- List of products -->
                </div>
                <div class="order-form">
                    <form class="form-horizontal" id="order-form">
                        <input type="hidden" id="token">
                        <input type="hidden" id="product_id">
                        <!-- Quantity -->
                        <div class="form-group col-xs-12">
                            <div class="col-xs-6">
                                <label class="control-label quantity-label" for="quantity">Quantity:</label>
                            </div>
                            <div class="col-xs-6">
                                <strong><output id="quantityValue">1</output></strong>
                            </div>  
                            <div class="col-xs-12">
                                <input class="form-control" id="quantity" name="quantity" type="range" min="1" max="10" value="1" onchange="updateRangeValue(this.value);">
                            </div>
                            <div class="col-xs-6">
                                <input type="button" class="btn btn-success btn-lg" id="add-product" value="Order">
                            </div>
                            <div class="col-xs-6">
                                <input type="button" class="btn btn-default btn-lg" id="close" value="Exit">
                            </div>
                        </div>
                    </form>
                    <div class="error_message "></div>
                </div>
            </div>

        </div>

    </div>

    <footer class="navbar navbar-fixed-bottom">
        <ul class="nav navbar-nav">
            <li class="active">
                <a href="javascript:void(0)"><span class="glyphicon glyphicon-home" data-toggle="tooltip" data-placement="top" title="Home"></span></a>
            </li>
            <li>
                <a href="javascript:void(0)"><span class="glyphicon glyphicon-refresh" data-toggle="tooltip" data-placement="top"  title="Refresh tickets list"></span></a>
            </li>
            <li>
                <a href="javascript:void(0)"><span class="glyphicon glyphicon glyphicon-fullscreen" data-toggle="tooltip" data-placement="top" title="Toggle full screen"></span></a>
            </li>
        </ul>

    </footer>
    <!-- Bootstrap core JavaScript ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script src="/libs/jquery/js/jquery.min.js"></script>
    <script src="/libs/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/global.min.js"></script>

    <script>
        $(document).ready(function() {
            //$('[data-toggle="tooltip"]').tooltip();
            $(".alert").hide();
            load_products();
        });

        $(".glyphicon-refresh").bind("click", function() {
            load_products();
        });

        $(".glyphicon-fullscreen").bind("click", function() {
            toggleFullScreen();
        });

        $("#search_text").bind("keypress", function(a) {
            if (a.keyCode == 13)
                load_products();
        });

        $('.alert .close').on('click', function(e) {
            e.preventDefault();
            $(this).parent().hide();
        });

        updateRangeValue = function(value) {
            $("#quantityValue").html(value);
        };

        $("#add-product").bind("click", function(e) {
           e.preventDefault();
           add_product();
        });

        $("#basket_button").bind("click", function(e) {
           e.preventDefault();
           $("body").load("/checkout")
        });

        $("#close").bind("click", function(e) {
            e.preventDefault();
           $(".error_message").html('').hide();
           $(".order-form").hide();
           $(".shadow").hide();
        })

    </script>
</body>

</html>