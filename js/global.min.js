function GetParameterValues(e){for(var t=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),o=0;o<t.length;o++){var n=t[o].split("=");if(n[0]==e)return n[1]}}function toggleFullScreen(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}window.onerror=function(e,t,o){console.log("JavaScript error: "+e+" on line "+o+" for "+t)};var d="d="+(new Date).toJSON(),webservice_path="/ws/br.php",msg,type,search,record_id,save_login_name=!1,error=!1;setCookie=function(e,t,o){var n=new Date;n.setDate(n.getDate()+o);var s=escape(t)+(null==o?"":";path=/;expires="+n.toUTCString());document.cookie=e+"="+s},getCookie=function(e){var t=document.cookie,o=t.indexOf(" "+e+"=");if(-1==o&&(o=t.indexOf(e+"=")),-1==o)t=null;else{o=t.indexOf("=",o)+1;var n=t.indexOf(";",o);-1==n&&(n=t.length),t=unescape(t.substring(o,n))}return t},deleteAllCookies=function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var o=e[t],n=o.indexOf("="),s=n>-1?o.substr(0,n):o;document.cookie=s+"=;path=/;expires=Thu, 01 Jan 1970 00:00:00 GMT"}},showMsg=function(e){$(".alert").removeClass("alert-warning").removeClass("alert-info").addClass("alert-info"),$(".alert #msg").html(e),$(".alert").show()},showErr=function(e){$(".alert").removeClass("alert-info").removeClass("alert-warning").addClass("alert-warning"),$(".alert #msg").html(e),$(".alert").show()},pad=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},$(function(){var e=navigator.userAgent;e.indexOf("Mozilla/5.0")>-1&&e.indexOf("Android ")>-1&&e.indexOf("AppleWebKit")>-1&&-1===e.indexOf("Chrome")&&$("select.form-control").removeClass("form-control").css("width","100%")}),jQuery.fn.center=function(){return this.css("position","absolute"),this.css("top",Math.max(0,($(window).height()-$(this).outerHeight())/3+$(window).scrollTop())+"px"),this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px"),this},$.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},$.ajaxSetup({type:"GET",url:webservice_path,contentType:"application/json; charset=utf-8",dataType:"json",cache:!0,async:!0,timeout:0,error:function(e,t){log_ajax_error(e,t)}}),$(document).ajaxStart(function(){$(".fa").show().center(),console.log("ajaxStart")}),$(document).ajaxSend(function(){$(".fa").show().center(),console.log("ajaxSend")}),$(document).ajaxStop(function(){console.log("ajaxStop"),$(".fa").fadeOut("slow")}),$(document).ajaxError(function(){console.log("ajaxError"),setTimeout(function(){$(".fa").fadeOut("slow")},3e3)}),log_ajax_error=function(e,t){console.log(e.responseText),showErr("We are sorry, but there was an error accessing the database")},validate_form=function(e){$(".alert").hide();var t=e.length,o="";error=!1;for(var n=0;n<t;n++)""!=(o=e[n].name)&&validate_field(o);error?showErr("Some errors were found. Please correct them and try again"):save_ticket()},validate_field=function(e){var t="#"+e,o="#"+e+"1";""==$(t).val()?($(t).closest(".form-group").removeClass("has-success has-feedback").addClass("has-error has-feedback"),$(o).removeClass("glyphicon-ok").addClass("glyphicon-remove"),error=!0):($(t).closest(".form-group").removeClass("has-error has-feedback").addClass("has-success has-feedback"),$(o).removeClass("glyphicon-remove").addClass("glyphicon-ok"))},load_products=function(){var e={};user_id=0,e.action="products_list",e.search=$("#search_text").val(),$(".alert").hide(),console.log(JSON.stringify(e)),$(".is_disabled").removeClass("disabled"),$(".is_disabled").addClass("disabled"),$.ajax({data:e,success:function(e){if(null==e)return $("#dashboard-table").empty(),!1;var t=e.length;$(".badge").html(t);var o=[],n=0;for(r=0;r<t;r++){$this=e[r],o[n]="<div class='list-group'>",n++;for(var s in $this)-1=="-total_rows-".indexOf("-"+s+"-")&&(o[n]="<a href='#' class='list-group-item'>",o[n]+="<img src='/img/"+$this.logo+"' class='shop-logo'>",o[n]+="<span class='area'>"+$this.area+"</span>",o[n]+="<span class='product'>"+$this.product+"</span><br/>",o[n]+="<img class='product-image' src='/img/"+$this.image+"'>",o[n]+="<span class='price'>"+$this.price+"</span>",o[n]+="<button class='buy-product-button btn btn-success btn-lg' onclick=buy_product("+$this.id+") >ORDER NOW</button>",o[n]+="</a>");o[n]+="</div>",n++}$("#dashboard-table").empty().append(o.join("")).show(),$('input[name="selected_row"]').on("change",function(){record_id=this.value,$(".is_disabled").removeClass("disabled")}),$(".ticket-form").hide(),$(".table-responsive").show(),$(".search-box").show()}})},buy_product=function(e){showMsg("The order creation will be implemented Soon!")};